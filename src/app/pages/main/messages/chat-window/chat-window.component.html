 current users : {{currentUserName}}
 
 <div #chatContainer class="flex-1 flex flex-col bg-gray-100" style="height: 86vh;">
      <!-- Chat Header -->
       <div class="flex">
      <div class="p-4 bg-white shadow-md flex items-center space-x-4 w-full">
        <img
          src="https://cdn.pixabay.com/photo/2021/07/02/04/48/user-6380868_1280.png"
          alt="Avatar"
          class="w-12 h-12 rounded-full object-cover"
        />
        <div>
          <h3 class="text-lg font-semibold text-gray-800">{{ selectedChat?.username }}</h3>
          <div class="flex gap-3">
            <i class="fa fa-circle" [ngStyle]="{'color': isUserOnline ? 'green' : 'gray'}"></i>
          <p class="text-sm text-green-500">{{isUserOnline ? "Online" : "Offline"}}</p>
        </div>
        </div>  
      </div>
      <button
    (click)="logout()"
    class="p-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition duration-200"
  >
    Logout
  </button>
    </div>
      
    
      <!-- Messages -->
      <div  class="flex-1 overflow-y-auto p-6 bg-gray-50 space-y-4">
        <div *ngFor="let message of messages">
          
          <!-- Show Date Header -->
          <div *ngIf="message.dateHeader" class="date-header">
            {{ message.dateHeader }}
          </div>
      
          <div
            [ngClass]="{
              'sent-message': message.sender_id === currentUser,
              'received-message': message.sender_id !== currentUser
            }"
          >
            <div class="message-box">
              <div class="message-text">{{ message.message }}</div>
              <div class="message-timestamp">
                {{ message.timestamp | timeAgo }} <!-- Formats the timestamp -->
              </div>
            </div>
          </div>
      
        </div>
      </div>
      
      
    
    
    </div>

      <!-- Message Input -->
      <div class="p-4 bg-white border-t flex items-center space-x-3">
        <!-- File Input (Hidden) -->
        <input
          type="file"
          #fileInput
          (change)="handleFileUpload($event)"
          class="hidden"
          accept="image/*, video/*, .pdf, .doc, .docx"
        />
      
        <!-- Upload Button -->
        <button
          (click)="fileInput.click()"
          class="p-3 bg-gray-300 text-gray-700 rounded-full hover:bg-gray-400 shadow-md transition duration-200"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            class="w-5 h-5"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 16v-4m0 0V8m0 4h4m-4 0H8m12 4a4 4 0 10-8 0m8 0a4 4 0 11-8 0m-4 0a4 4 0 108 0m-8 0a4 4 0 118 0"
            />
          </svg>
        </button>
      
        <!-- Message Input -->
        <input
          type="text"
          [(ngModel)]="newMessage"
          placeholder="Type a message"
          class="flex-1 p-3 border rounded-full shadow-sm focus:outline-none focus:ring focus:ring-blue-300"
          (keydown.enter)="sendMessage()"
        />
      
        <!-- Send Button -->
        <button
          (click)="sendMessage()"
          class="p-3 bg-blue-500 text-white rounded-full hover:bg-blue-600 shadow-md transition duration-200"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            class="w-5 h-5"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21 12H3m0 0l7-7m-7 7l7 7"
            />
          </svg>
        </button>
      </div>
      
    